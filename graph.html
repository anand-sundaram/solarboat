<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
  <title>Graphs</title>
</head>
 
<body>


<script src="http://code.highcharts.com/highcharts.js"></script>
<script src="http://www.highcharts.com/js/themes/dark-unica.js"></script>
<script src="http://code.highcharts.com/modules/exporting.js"></script>

<div id="container" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
</body>

<script type="text/javascript">
var chartNames = ["Battery Current", "Battery Voltage", "Panel Voltage", "Panel Power"];
var axisNames = ["Current (mA)", "Voltage (mV)", "Voltage (mV)", "Power (W)"];

var options;
var lines;
theme = 'dark-unica';
$(function () {

options = {
    chart: {
        renderTo: 'container',
        defaultSeriesType: 'scatter',
        type: 'scatter'
    },
    title: {
        text: chartNames[0]
    },
    xAxis: {
        type: 'datetime',
        // categories: []
        title: {
                text: 'Time'
            },
        labels: {
                overflow: 'justify'
            }
    },
    yAxis: {
        title: {
            text: axisNames[0]
        }
    },
    series: [],

    plotOptions: {
        scatter: {
            dashstyle: 'Solid',
                lineWidth: 1,
                states: {
                    hover: {
                        lineWidth: 2
                    }
                },
                marker: {
                    enabled: false
                },

                
            },
            series: {
            connectNulls: true
        }
        
    }
};

$.get('batteryCurrent.csv', function(data) {
    // Split the lines
    var lines = data.split('\n');
    var series = {
                data: []
            };
            series.name = chartNames[0];
    
    // Iterate over the lines and add categories or series
    $.each(lines, function(lineNo, line) {
        var items = line.split(',');
        
        var row = [];
        var itemPrev = "";
        // header line containes categories
        // if (lineNo == 0) {
        //     $.each(items, function(itemNo, item) {
        //         if (itemNo > 0) options.xAxis.categories.push(item);
        //     });
        // }
        
        // the rest of the lines contain data with their name in the first 
        // position
        
            
            $.each(items, function(itemNo, item) {
                if (itemNo == 0) {
                    itemPrev = item;
                }
                else if (itemNo == 1) {
                    row.push(new Date(itemPrev+" "+item));
                }
                else {
                    row.push(parseFloat(item));
                }

                
                 
                
            });
            series.data.push(row);
            
    
        
        
    });
    options.series.push(series);
    // Create the chart
    Highcharts.setOptions({
    global: {
        useUTC: false
    }
});
    var chart = new Highcharts.Chart(options);
});


});




</script>
</html>

<!-- Also look at Highcharts -->

